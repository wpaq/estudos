<!DOCTYPE html>
<html lang="pt-BR">
<head>
	<title>To-DO List</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
	<div class="content">
		<div class="row">
			<div class="col-12">
				<h1>To-DO List</h1>
				<form>
					<input type="text" name="task" id="task" placeholder=" Novo item...">
					<input type="button" name="" value="Add Task" onclick="addTask();">
				</form>
			</div>
		</div>
		<div class="row">
			<div class="col-12">
				<div class="to-do-list-box">
					<ul id="myList">						
					</ul>
				</div>
			</div>
		</div>
	</div>

	<script type="text/javascript">
		var ul = document.getElementById('myList');
		var li;
		var itemId;
		var item;

		addTask = function(){
			if(document.getElementById('task').value != ""){
				item = document.getElementById('task');
				itemId = ul.childElementCount;
				li = createItemEl(item.value, itemId);
				li.appendChild(createRemoveTaskBtn(itemId));
				ul.appendChild(li);
			}
			
		}

		removeTask = function(itemId){
			for(var i = 0; i < ul.children.length; i++){
				if(ul.children[i].getAttribute('index') == itemId){
					ul.children[i].remove();
				}
			}
		}

		createItemEl = function(itemValue, itemId){
			let li = document.createElement('li');
			li.setAttribute('index', itemId);
			li.appendChild(document.createTextNode(itemValue));

			return li;
		}

		createRemoveTaskBtn = function(itemId){
			let btn = document.createElement('button');
			btn.setAttribute('onclick', 'removeTask('+itemId+')');
			btn.innerHTML = 'X';
			
			return btn;
		}
	</script>
</body>
</html>